---
title: ChatItem
description: 聊天消息项组件
---

import { PropsTable, EventsTable, SlotsTable, MethodsTable } from '@/components/docs/api-table';

# ChatItem

单条聊天消息的展示组件。

## vue中使用

```vue
<template>
  <ChatItem
    :item="message"
    :index="0"
    :loading="false"
    :is-stream-load="false"
    @copy="handleCopy"
    @rate="handleRate"
  />
</template>
```

## html/react或其他框架中使用

```html
<div id="containerId"></div>
<script>
ADPChatComponent.ChatItem.mount('#containerId', {
  item: { RecordId: '1', Content: 'Hello' },
  index: 0,
  loading: false,
  isStreamLoad: false,
  onCopy: (rowtext, content, type) => {},
  onRate: (record, score) => {}
})
</script>
```

## API

<PropsTable data={[
  { name: 'item', type: 'Record', required: true, description: '当前聊天记录项' },
  { name: 'index', type: 'number', required: true, description: '当前项的索引' },
  { name: 'isLastMsg', type: 'boolean', default: 'false', description: '是否为最后一条消息' },
  { name: 'loading', type: 'boolean', required: true, description: '是否正在加载' },
  { name: 'isStreamLoad', type: 'boolean', required: true, description: '是否为流式加载' },
  { name: 'showActions', type: 'boolean', default: 'true', description: '是否显示操作按钮' },
  { name: 'isMobile', type: 'boolean', default: 'false', description: '是否为移动端' },
  { name: 'theme', type: "'light' | 'dark'", default: "'light'", description: '主题模式' },
  { name: 'i18n', type: 'ChatItemI18n', description: '国际化文本' },
]} />

### i18n 默认值

```typescript
{
  thinking: '思考中',
  deepThinkingFinished: '深度思考完成',
  deepThinkingExpand: '展开深度思考',
  copy: '复制',
  replay: '重新生成',
  share: '分享',
  good: '点赞',
  bad: '踩',
  thxForGood: '感谢您的反馈',
  thxForBad: '感谢您的反馈',
  references: '参考来源'
}
```

<EventsTable data={[
  { name: 'resend', params: 'relatedRecordId', description: '重新发送' },
  { name: 'share', params: 'recordIds[]', description: '分享' },
  { name: 'rate', params: '(record, score)', description: '评分' },
  { name: 'copy', params: '(rowtext, content, type)', description: '复制，rowtext为渲染后的纯文本，content为原始markdown' },
  { name: 'sendMessage', params: 'message', description: '发送消息（选项卡片）' },
]} />

## 类型定义

### Record

```typescript
interface Record {
  AgentThought?: AgentThought;
  CanFeedback?: boolean;
  CanRating?: boolean;
  Content?: string;
  ExtraInfo?: ExtraInfo;
  FileInfos?: any[];
  FromAvatar?: string;
  FromName?: string;
  HasRead?: boolean;
  ImageUrls?: any[];
  IsFromSelf?: boolean;
  IsFinal?: boolean;
  OptionCards?: string[];
  QuoteInfos?: QuoteInfo[];
  Reasons?: any[];
  RecordId: string;
  References?: Reference[];
  RelatedRecordId?: string;
  ReplyMethod?: number;
  Score?: ScoreValue;
  SessionId?: string;
  TaskFlow?: any;
  Timestamp?: number;
  TokenStat?: TokenStat;
  Type?: number;
  WorkFlow?: WorkFlow;
  Incremental?: boolean;
}
```
