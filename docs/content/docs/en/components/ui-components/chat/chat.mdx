---
title: Chat
description: Main chat component
---

import { PropsTable, EventsTable, SlotsTable, MethodsTable } from '@/components/docs/api-table';

# Chat

Complete chat interface component with message list, sender, sharing and more.

## Usage in Vue

```vue
<template>
  <Chat
    :chat-id="chatId"
    :chat-list="chatList"
    :is-chatting="isChatting"
    :current-application-id="appId"
    :current-application-name="appName"
    @send="handleSend"
    @stop="handleStop"
  />
</template>
```

## Usage in HTML/React or Other Frameworks

```html
<div id="containerId"></div>
<script>
ADPChatComponent.Chat.mount('#containerId', {
  chatId: '',
  chatList: [],
  isChatting: false,
  currentApplicationId: '',
  currentApplicationName: '',
  onSend: (query, fileList, conversationId, applicationId) => {},
  onStop: () => {}
})
</script>
```

## API

<PropsTable data={[
  { name: 'chatId', type: 'string', default: "''", description: 'Current conversation ID' },
  { name: 'chatList', type: 'Record[]', default: '[]', description: 'Chat message list' },
  { name: 'isChatting', type: 'boolean', default: 'false', description: 'Whether chatting' },
  { name: 'currentApplicationId', type: 'string', default: "''", description: 'Current application ID' },
  { name: 'currentApplicationAvatar', type: 'string', default: "''", description: 'Current application avatar' },
  { name: 'currentApplicationName', type: 'string', default: "''", description: 'Current application name' },
  { name: 'currentApplicationGreeting', type: 'string', default: "''", description: 'Current application greeting' },
  { name: 'currentApplicationOpeningQuestions', type: 'string[]', default: '[]', description: 'Opening questions list' },
  { name: 'isMobile', type: 'boolean', default: 'false', description: 'Whether mobile' },
  { name: 'theme', type: "'light' | 'dark'", default: "'light'", description: 'Theme mode' },
  { name: 'i18n', type: 'ChatI18n', description: 'i18n text' },
  { name: 'chatItemI18n', type: 'ChatItemI18n', description: 'ChatItem i18n text' },
  { name: 'senderI18n', type: 'SenderI18n', description: 'Sender i18n text' },
  { name: 'useInternalRecord', type: 'boolean', default: 'false', description: 'Use internal recording (API mode)' },
  { name: 'asrUrlApi', type: 'string', default: "''", description: 'ASR URL API path' },
]} />

### i18n Defaults

```typescript
{
  loading: 'Loading',
  thinking: 'Thinking',
  checkAll: 'Select All',
  shareFor: 'Share to',
  copyUrl: 'Copy Link',
  cancelShare: 'Cancel Share',
  sendError: 'Send Failed',
  networkError: 'Network Error'
}
```

<EventsTable data={[
  { name: 'send', params: '(query, fileList, conversationId, applicationId)', description: 'Send message' },
  { name: 'stop', description: 'Stop generation' },
  { name: 'loadMore', params: '(conversationId, lastRecordId)', description: 'Load more history' },
  { name: 'rate', params: '(conversationId, recordId, score)', description: 'Rate (like/dislike)' },
  { name: 'share', params: '(conversationId, applicationId, recordIds)', description: 'Share message' },
  { name: 'copy', params: '(rowtext, content, type)', description: 'Copy content, rowtext is rendered plain text, content is raw markdown' },
  { name: 'uploadFile', params: 'File[]', description: 'Upload file' },
  { name: 'startRecord', description: 'Start recording' },
  { name: 'stopRecord', description: 'Stop recording' },
  { name: 'message', params: '(code: MessageCode, message: string)', description: 'Message tip, code is message code constant' },
  { name: 'conversationChange', params: 'conversationId', description: 'Conversation change' },
]} />

<MethodsTable data={[
  { name: 'backToBottom', description: 'Scroll to bottom' },
  { name: 'clearConfirm', description: 'Clear chat' },
  { name: 'getSenderRef', returns: 'Ref', description: 'Get sender reference' },
]} />

## Type Definitions

### MessageCode

Message code constants for the `code` parameter in `message` event:

```typescript
const MessageCode = {
  // Success
  COPY_SUCCESS: 'COPY_SUCCESS',
  
  // Error
  COPY_FAILED: 'COPY_FAILED',
  SHARE_FAILED: 'SHARE_FAILED',
  FILE_UPLOAD_FAILED: 'FILE_UPLOAD_FAILED',
  FILE_FORMAT_NOT_SUPPORT: 'FILE_FORMAT_NOT_SUPPORT',
  GET_APP_LIST_FAILED: 'GET_APP_LIST_FAILED',
  GET_CONVERSATION_LIST_FAILED: 'GET_CONVERSATION_LIST_FAILED',
  GET_CONVERSATION_DETAIL_FAILED: 'GET_CONVERSATION_DETAIL_FAILED',
  SEND_MESSAGE_FAILED: 'SEND_MESSAGE_FAILED',
  NETWORK_ERROR: 'NETWORK_ERROR',
  LOAD_MORE_FAILED: 'LOAD_MORE_FAILED',
  RATE_FAILED: 'RATE_FAILED',
  ASR_SERVICE_FAILED: 'ASR_SERVICE_FAILED',
  RECORD_FAILED: 'RECORD_FAILED',
  
  // Warning
  ANSWERING: 'ANSWERING',
  RECORD_TOO_LONG: 'RECORD_TOO_LONG',
} as const;

type MessageCode = typeof MessageCode[keyof typeof MessageCode];
```
